<section class="register">
  <div class="register__image">
    <div class="register__image-container">
      <div class="register__text">
        <h2 class="register__title">Bienvenido a Smart Point</h2>
      </div>
    </div>
  </div>

  <div class="register__form">
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register__form-container" novalidate>
      <div class="register__form-group register__container-title">
        <p class="register__subtitle">Regístrate para continuar</p>
      </div>

      <!-- Teléfono -->
      <div class="register__form-group">
        <input
          type="number"
          id="telefono"
          name="telefono"
          formControlName="telefono"
          class="register__input"
          placeholder=" "
          [class.invalid]="telefono?.invalid && (telefono?.dirty || telefono?.touched)"
        />
        <label for="telefono" class="register__label">Teléfono</label>
        <div class="register__error">
          @if (telefono?.invalid && (telefono?.dirty || telefono?.touched)) {
            @if (telefono?.errors?.['required']) {
              <small>El teléfono es obligatorio.</small>
            }
          }
        </div>
      </div>

      <!-- Nombre -->
      <div class="register__form-group">
        <input
          type="text"
          id="nombre"
          name="nombre"
          formControlName="nombre"
          class="register__input"
          placeholder=" "
          [class.invalid]="nombre?.invalid && (nombre?.dirty || nombre?.touched)"
        />
        <label for="nombre" class="register__label">Nombre</label>
        <div class="register__error">
          @if (nombre?.invalid && (nombre?.dirty || nombre?.touched)) {
            @if (nombre?.errors?.['required']) {
              <small>El nombre es obligatorio.</small>
            }
          }
        </div>
      </div>

      <!-- Correo -->
      <div class="register__form-group">
        <div class="register__floating-label">
          <input
            type="email"
            id="register-email"
            name="email"
            class="register__input"
            formControlName="email"
            placeholder=" "
            [class.invalid]="email?.invalid && (email?.dirty || email?.touched)"
          />
          <label for="register-email" class="register__label">Correo Electrónico</label>
        </div>
        <div class="register__error">
          @if (email?.invalid && (email?.dirty || email?.touched)) {
            @if (email?.errors?.['required']) {
              <small>El correo es obligatorio.</small>
            }
            @if (email?.errors?.['pattern']) {
              <small>Ingresa un correo válido (ej. usuario@dominio.com).</small>
            }
          }
        </div>
      </div>

      <!-- Contraseña -->
      <div class="register__form-group">
        <div class="register__floating-label">
          <input
            type="password"
            id="register-password"
            name="password"
            class="register__input"
            formControlName="password"
            placeholder=" "
            [class.invalid]="password?.invalid && (password?.dirty || password?.touched)"
          />
          <label for="register-password" class="register__label">Contraseña</label>
        </div>
        <div class="register__error">
          @if (password?.invalid && (password?.dirty || password?.touched)) {
            @if (password?.errors?.['required']) {
              <small>La contraseña es obligatoria.</small>
            }
            @if (password?.errors?.['minlength']) {
              <small>
                La contraseña debe tener al menos {{ password?.errors?.['minlength'].requiredLength }} caracteres.
              </small>
            }
          }
        </div>
      </div>

      <button type="submit" class="register__button" [disabled]="registerForm.invalid">
        Registrarse
      </button>

      <div class="register__login">
        <a routerLink="/login" class="register__login-link">¿Ya tienes cuenta? Inicia sesión</a>
      </div>
    </form>
  </div>
</section>